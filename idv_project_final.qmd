---
title: "IDV project"
author: "Maikki Heijala"
format: 
  dashboard:
    orientation: columns
    theme: flatly
    expandable: false
---
```{r data_handling}
#| include: false

library(rjson)
library(dplyr)

for_rent <- fromJSON(file="for_rent.json")
for_sale <- fromJSON(file="for_sale.json")

codes_names <- as.data.frame(
  do.call(
    rbind,
    for_sale$dataset$dimension$Postinumero$category$label
  )
)
codes_names$names <- rownames(codes_names)
names <- codes_names$V1

ojs_define(names)
ojs_define(for_sale)
ojs_define(for_rent)

```
## Column {width="30%"}

```{r}
#| title: "Price Ranges on  Map"
#| padding: 10px

print("Hello Hey!")

```

## Column

### Row {height=60%}

#### Column

#### Row

```{ojs}
//| title: Area selection

viewof chosen_area = Inputs.select(names, {value: "45100"})

```

##### Column
```{r}
#| content: valuebox
#| title: "Highest e/m2 in area"
list(
  icon = "arrow-up-right",
  color = "success",
  value = 90
)
```

##### Column
```{r}
#| content: valuebox
#| title: "Lowest e/m2 in area"
list(
  icon = "arrow-down-right",
  color = "warning",
  value = 60
)
```

#### Row

```{ojs}
//| title: Market type selection

viewof menu = Inputs.radio(["for rent", "for sale"])

```

##### Column
```{r}
#| content: valuebox
#| title: "Highest e/m2 in Finland"
list(
  icon = "graph-up-arrow",
  color = "light",
  value = 110
)
```

##### Column
```{r}
#| content: valuebox
#| title: "Lowest e/m2 in Finland"
list(
  icon = "graph-down-arrow",
  color = "light",
  value = 50
)
```

#### Column

```{ojs}
//| title: 5 year development

"Line graph here"

```

### Row {.tabset}

```{ojs}
//| title: Age

"Age info here"

```


```{ojs}
//| title: Education

"Education info here"

```
